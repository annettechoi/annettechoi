<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>U.S. Breastfeeding Rates</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
    /* custom css styles will go here */
		h2{
			text-align: center;
			font-family: 'Krub', sans-serif;
		}
		svg{
		margin-left: auto;
		margin-right: auto;
		display: block;

		}
		p{
			max-width: 1,200px;
			margin-left: 100px;
			margin-right: 100px;
			font-family: 'Krub', sans-serif;
		}

		#data-source{
			margin-right: auto;
			margin-left: 0;
			font-size: 10px;
			margin-top: 3px;
			margin-bottom: 10px;
			font-family: 'Krub', sans-serif;
		}
	
		
    </style>

	
</head>
<body>

    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script>
      var margin = {top:60, right:10, bottom:20, left:100},
          width  = 500 - margin.left - margin.right,
          height = 600 - margin.top - margin.bottom;

      var svg = d3.select("body")
          .append("svg")
          .attr("width", "100%")
          .attr("height", "100%")
          .attr("viewBox", "0 0 " + (width + margin.left + margin.right) + " " + (height + margin.top + margin.bottom));

      var chart = svg.append("g")
          .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
      
      var xScale = d3.scaleLinear()
          .range([0, width]);

      var yScale = d3.scaleBand()
          .range([0, height])
          .padding(0.1);

//	  Promise.all([
//		  , 
//		  d3.csv("breastfeeding2.csv") 
//	  ])
  	  d3.csv("breastfeeding.csv")
	  .then(function(data){
       
        data = data.map(function(d){ 
            d["Breastfeeding at 6 months (2008)"] = +d["Breastfeeding at 6 months (2008)"];
			d["Breastfeeding at 6 months (2018)"] = +d["Breastfeeding at 6 months (2018)"]; 
			d["People who dont breastfeed"] = +d["People who dont breastfeed"]; 
			d["Percent Increase"] = +d["Percent Increase"]; 
			d["Percent Change"] = +d["Percent Change"]; 
            return d;
        });
		

		  
		

        xScale.domain([0, 100]);
        yScale.domain(data.map(function(d){ return d["State"]; }))
		 
        chart.selectAll(".bar3")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "bar3")
            .attr("x", function(d){ return xScale(d["Breastfeeding at 6 months (2018)"])})/*function(d){ return xScale(d["Breastfeeding at 6 months (2008)"]); })*/
            .attr("y", function(d){ return yScale(d["State"]); })
            .attr("height", function(d){ return yScale.bandwidth(); })
            .attr("width", function(d){ return xScale(d["People who dont breastfeed"]); })
		    .attr("opacity","0.1")
            .attr("fill", "black"); 		  
		  
        chart.selectAll(".bar2")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "bar2")
            .attr("x", 0)/*function(d){ return xScale(d["Breastfeeding at 6 months (2008)"]); })*/
            .attr("y", function(d){ return yScale(d["State"]); })
            .attr("height", function(d){ return yScale.bandwidth(); })
            .attr("width", function(d){ return xScale(d["Breastfeeding at 6 months (2018)"]); })
		    .attr("opacity","0.6")
            .attr("fill", "steelblue"); 
		  
		  
        chart.selectAll(".bar1")
            .data(data)
            .enter()
            .append("rect")
            .attr("class", "bar1")
            .attr("x", 0)/*function(d){ return xScale(d["Breastfeeding at 6 months (2008)"]); })*/
            .attr("y", function(d){ return yScale(d["State"]); })
            .attr("height", function(d){ return yScale.bandwidth(); })
            .attr("width", function(d){ return xScale(d["Breastfeeding at 6 months (2008)"]); })
            .attr("fill", "steelblue");
		  
		  

        
        svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
            .selectAll(".textlabel-1")
            .data(data)
            .enter()
            .append("text")
            .attr("class", "textlabel-1")
            .attr("x", function(d){ return xScale(d["Percent Change"]) +16;})
            .attr("y", function(d){ return yScale(d["State"]) + 2; })
		  	.attr("alignment-baseline", "hanging")
            .attr("text-anchor", "end")
            .attr("font-family", "sans-serif")
            .attr("font-size", "7px")
		  	.attr("fill", "black")
		  //this makes the text of the label
            .text(function(d){ return d3.format(",")(d["Percent Increase"]); })
		  
        //adding y axis to the left of the chart
        svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
            .call(d3.axisLeft(yScale));

        //adding x axis to the bottom of chart
        svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + (height + margin.top) + ")")
            .call(d3.axisBottom(xScale));
        
        svg.append("g")
            .attr("transform", "translate(" + (width/1.8) + ", 15)")
            .append("text")
            .text("Breastfeeding Rates in the U.S.")
            .style("text-anchor", "middle")
            .style("font-family", "Arial")
            .style("font-weight", "500");
		  
        svg.append("g")
            .attr("transform", "translate(" + (width/1.8) + ", 35)")
            .append("text")
            .text("This chart shows the percent increase in breastfeeding rates at an infant's six months of life in the United States.")
            .style("text-anchor", "middle")
            .style("font-family", "Arial")
            .style("font-weight", "100")
		  	.style("font-size","8");
		  
		 svg.append("g")
            .attr("transform", "translate(" + (width/1.8) + ", 45)")
            .append("text")
            .text(" The dark blue represents data from 2008, the light blue represents data from 2018.")
            .style("text-anchor", "middle")
            .style("font-family", "Arial")
            .style("font-weight", "100")
		  	.style("font-size","8");
		  
		  
		 
      });
		
		
//	     //legend
//     var legend = svg.selectAll(".legend")
//         .data()
//         .enter();
//     
//     
//     legend.append("rect")
//         .attr("x", margin.left + width + boxGap )
//         .attr("y", function(d,i){ return (i * boxSize) + margin.top; })
//         .attr("width", boxSize - 3)
//         .attr("height", boxSize - 3)
//         .attr("fill", function(d){ return categoryScale(d); })
//     
//     legend.append("text")
//         .attr("x", margin.left + width + boxSize + (boxGap*2))
//         .attr("y", function(d,i){ return (i * boxSize) + margin.top; })
//         .append("tspan")
//         .attr("dx", 0)
//         .attr("dy", boxSize/2)
//         .style("alignment-baseline", "middle")
//         .style("font-size", 10)
//         .style("font-family", "Helvetica, Arial, sans-serif")
////         .text(function(d){ return d;})
// });
		
		
		
		
    </script>
	
<p>The number of mothers breastfeeding through the first six months of an infant’s life have gone up across the United States in the last decade—ranging from an increase of just over half a percent in Rhode Island to over 100 percent in the case of Kentucky. The American Academy of Pediatrics recommends that mothers breastfeed their infants exclusively for the first six months of age. 

</p>
	
	<p id="data-source">Data source: Center for Disease Control and Prevention</p>
</body>
</html>
